<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.vtu.mapper.CustomerMapper">
  <resultMap id="BaseResultMap" type="com.vtu.model.Customer">
    <id column="account_id" jdbcType="BIGINT" property="accountId" />
    <result column="account" jdbcType="VARCHAR" property="account" />
    <result column="password" jdbcType="VARCHAR" property="password" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="phone" jdbcType="VARCHAR" property="phone" />
    <result column="id_card" jdbcType="VARCHAR" property="idCard" />
    <result column="remain" jdbcType="DOUBLE" property="remain" />
    <result column="is_vip" jdbcType="VARCHAR" property="isVip" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="email_send_time" jdbcType="VARCHAR" property="emailSendTime" />
    <result column="wxId" jdbcType="VARCHAR" property="wxId" />
    <result column="qqId" jdbcType="VARCHAR" property="qqId" />
    <result column="authCode" jdbcType="VARCHAR" property="authCode" />
    <result column="isAuth" jdbcType="VARCHAR" property="isAuth" />
    <result column="sex" jdbcType="VARCHAR" property="sex" />
    <result column="head_portrait_url" jdbcType="VARCHAR" property="headPortraitUrl" />
    <result column="header_image_url" jdbcType="VARCHAR" property="headerImage" />

    <result column="id_card_url" jdbcType="VARCHAR" property="idCardUrl" />
    <result column="passport_url" jdbcType="VARCHAR" property="passPort" />
    <result column="business_liscence_url" jdbcType="VARCHAR" property="businessLiscence" />
    <result column="protocol_url" jdbcType="VARCHAR" property="protocol" />
    <result column="shoper_type" jdbcType="VARCHAR" property="shoperType" />
    <result column="shoper_status" jdbcType="VARCHAR" property="shoperStatus" />
  </resultMap>
  <sql id="Base_Column_List">
    account_id, account, password, name, phone, id_card, remain, is_vip, is_shoper, email, email_send_time,wxId, qqId,authCode,isAuth,
    sex,header_image_url,head_portrait_url,id_card_url,passport_url,business_liscence_url,protocol_url,shoper_type,shoper_status
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from tb_customer
    where account_id = #{accountId,jdbcType=INTEGER}
  </select>

  <select id="selectByEmail" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from tb_customer
    where email = #{email, jdbcType=VARCHAR}
  </select>

  <select id="selectByAuthCode" parameterType="java.lang.String" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from tb_customer
    where authCode = #{authCode, jdbcType=VARCHAR}
  </select>

  <select id="selectByAuthCodeAndEmail"  resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from tb_customer
    where email = #{email, jdbcType=VARCHAR} and authCode = #{authCode, jdbcType=VARCHAR}
  </select>
  <select id="selectByCustomer" parameterType="com.vtu.model.Customer" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from tb_customer
    <where>
      <if test="name != null">
        and `name` = #{name}
      </if>
      <if test="sex != null">
        and sex = #{sex}
      </if>
      <if test="phone != null">
        and phone = #{phone}
      </if>
      <if test="isVip != null">
        and is_vip = #{isVip}
      </if>
      <if test="email != null">
        and email = #{email}
      </if>
      <if test="wxId != null">
        and wxId = #{wxId}
      </if>
      <if test="qqId != null">
        and qqId = #{qqId}
      </if>
      <if test="idCard != null">
        and id_card = #{idCard}
      </if>
      <if test="isShoper != null">
        and is_shoper = #{isShoper}
      </if>
    </where>
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    delete from tb_customer
    where account_id = #{accountId,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.vtu.model.Customer">
    insert into tb_customer (account_id, account, password, 
      name, phone, id_card, 
      remain, is_vip, is_shoper,email,sex,email_send_time,wxId,qqId,authCode,isAuth)
    values (#{accountId,jdbcType=BIGINT}, #{account,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR},
      #{name,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR}, #{idCard,jdbcType=VARCHAR}, 
      #{remain,jdbcType=DOUBLE}, #{isVip,jdbcType=CHAR}, #{isShoper,jdbcType=CHAR},#{email,jdbcType=CHAR},#{sex,jdbcType=CHAR},#{emailSendTime,jdbcType=VARCHAR},
      #{wxId,jdbcType=VARCHAR},#{qqId,jdbcType=VARCHAR}, #{authCode, jdbcType=VARCHAR},#{isAuth, jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.vtu.model.Customer">
    insert into tb_customer
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="accountId != null">
        account_id,
      </if>
      <if test="account != null">
        account,
      </if>
      <if test="password != null">
        password,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="phone != null">
        phone,
      </if>
      <if test="idCard != null">
        id_card,
      </if>
      <if test="remain != null">
        remain,
      </if>
      <if test="isVip != null">
        is_vip,
      </if>
      <if test="isShoper != null">
        is_shoper,
      </if>
      <if test="email != null">
        email,
      </if>
      <if test="email != null">
        sex,
      </if>
      <if test="wxId != null">
        wxId,
      </if>
      <if test="qqId != null">
        qqId,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="accountId != null">
        #{accountId,jdbcType=BIGINT},
      </if>
      <if test="account != null">
        #{account,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        #{password,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="phone != null">
        #{phone,jdbcType=VARCHAR},
      </if>
      <if test="idCard != null">
        #{idCard,jdbcType=VARCHAR},
      </if>
      <if test="remain != null">
        #{remain,jdbcType=DOUBLE},
      </if>
      <if test="isVip != null">
        #{isVip,jdbcType=CHAR},
      </if>
      <if test="isShoper != null">
      #{isShoper,jdbcType=CHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=CHAR},
      </if>
      <if test="email != null">
        #{sex,jdbcType=CHAR},
      </if>
      <if test="wxId != null">
        #{wxId,jdbcType=CHAR},
      </if>
      <if test="qqId != null">
        #{qqId,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.vtu.model.Customer">
    update tb_customer
    <set>
      <if test="account != null">
        account = #{account,jdbcType=VARCHAR},
      </if>
      <if test="password != null">
        password = #{password,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        name = #{sex,jdbcType=VARCHAR},
      </if>
      <if test="phone != null">
        phone = #{phone,jdbcType=VARCHAR},
      </if>
      <if test="idCard != null">
        id_card = #{idCard,jdbcType=VARCHAR},
      </if>
      <if test="remain != null">
        remain = #{remain,jdbcType=DOUBLE},
      </if>
      <if test="isVip != null">
        is_vip = #{isVip,jdbcType=CHAR},
      </if>
      <if test="isShoper != null">
        is_shoper = #{isShoper,jdbcType=CHAR},
      </if>
      <if test="email != null">
        email = #{email,jdbcType=CHAR},
      </if>
      <if test="wxId != null">
        wxId = #{wxId,jdbcType=CHAR},
      </if>
      <if test="qqId != null">
        qqId = #{qqId,jdbcType=CHAR},
      </if>
      <if test="qqId != null">
        shoper_status = #{shoper_status,jdbcType=CHAR},
      </if>
    </set>
    where account_id = #{accountId,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.vtu.model.Customer">
    update tb_customer
    set account = #{account,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=VARCHAR},
      phone = #{phone,jdbcType=VARCHAR},
      id_card = #{idCard,jdbcType=VARCHAR},
      remain = #{remain,jdbcType=DOUBLE},
      is_vip = #{isVip,jdbcType=CHAR},
      is_shoper = #{isShoper,jdbcType=CHAR},
      email = #{email,jdbcType=VARCHAR},
      email_send_time = #{emailSendTime,jdbcType=VARCHAR},
      wxId = #{wxId,jdbcType=VARCHAR},
      qqId = #{qqId,jdbcType=VARCHAR},
      authCode = #{authCode,jdbcType=VARCHAR},
      isAuth = #{isAuth,jdbcType=VARCHAR},
      header_image_url = #{headerImage,jdbcType=VARCHAR},
      head_portrait_url = #{headPortraitUrl,jdbcType=VARCHAR},
      id_card_url = #{idCardUrl,jdbcType=VARCHAR},
      passport_url = #{passPort,jdbcType=VARCHAR},
      business_liscence_url = #{businessLiscence,jdbcType=VARCHAR},
      protocol_url = #{protocol,jdbcType=VARCHAR},
      shoper_type = #{shoperType,jdbcType=VARCHAR},
      shoper_status = #{shoperStatus,jdbcType=VARCHAR}
    where account_id = #{accountId,jdbcType=BIGINT}
  </update>
</mapper>